---
Type:
aliases: 
tags: 
modifiedDate: 2025/06/19, 22:56:19
---

# 四元数

## 定义

一个用于表示三维旋转的**单位四元数 (Unit Quaternion)** 是一个四维向量 `q = (w, x, y, z)`，并且满足 `w² + x² + y² + z² = 1`。

$$
\hat{\mathbf{q}}=\left(\sin \phi \mathbf{u}_{q}, \cos \phi\right)=\sin \phi \mathbf{u}_{q}+\cos \phi = 
\cos \phi + \sin \phi(\mathbf{u}_{qx} + \mathbf{u}_{qy} + \mathbf{u}_{qz})
\tag{4.39} 
$$

它的四个分量与我们熟悉的“绕任意轴旋转”概念紧密相连：

- **旋转轴 `r`**：一个三维单位向量 `(rx, ry, rz)`。
- **旋转角 `θ`**：围绕该轴旋转的角度。

它们之间的转换关系如下：

- `w = cos(θ / 2)`
- `x = rx * sin(θ / 2)`
- `y = ry * sin(θ / 2)`
- `z = rz * sin(θ / 2)`

## 优势

- 避免万向锁, 在使用[[欧拉角]]表示旋转时，当某个角度达到90度时，会遭遇万向锁问题，导致一个轴的旋转会影响另一个轴的旋转，从而失去一个自由度。
- 数值稳定
- 存储开销低
- 方便插值
- 计算快,四元数具有结合率. . 如果使用矩阵表示两次旋转,需要进行$n^3$次乘法,如果使用四元数相乘,再使用得到的四元数导出旋转矩阵,能有效降低时间复杂度,大概是$n^2$?
