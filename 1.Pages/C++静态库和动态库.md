---
Type:
aliases: 
tags: 
modifiedDate: 2025/06/17, 19:24:46
---

# C++静态库和动态库

## 静态库

- windows 下后缀为 `.lib`

### 作用

静态链接库会把所需外部函数的二进制代码全部拷贝到可执行文件中去

### 得失

好处
1. 不需要加载外部库，减少了加载时间和符号解析时间，运行速度更快
2. 独立性更好，已经包含了所有的运行代码，不依赖于外部库

坏处:
1. 生成的单个可执行文件更大
2. 代码复用性较差
3. 如果库发生了更新，那么就需要重新编译生成可执行文件

## 动态库

- windows 下后缀为 `.ddl`

### 作用

动态链接库不直接拷贝代码，而是记录外部函数的接口，在运行时把需要的代码**动态地**加载到内存中。

### 得失

优点：

1. 可执行文件的大小会更小
2. 多个运行的程序会共享一份动态库，占用的内存更小
3. 在更新的时候，只需要替换库文件即可
4. 编译更快

缺点：

1. 初次加载的时候需要解析符号，会增加启动时间
2. 独立性不好，可能会出现缺少动态库而无法运行的情况。
