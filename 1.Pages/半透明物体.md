---
Type:
  - Page
aliases: 
tags: 
modifiedDate: 2025/06/19, 11:29:11
---

# 半透明物体

## 定义

alpha 值不为 0 的

## 如何绘制

### 深度相关的通用思想

1. 绘制所有不透明物体[^1]
2. 绘制所有半透明物体,[^2]
    1. 开启颜色混合
    2. 颜色混合是顺序敏感的，半透明物体必须以特定的顺序绘制。[物体绘制顺序](物体绘制顺序.md)
    3. 通常是**从后到前 (Back-to-Front)** 排序,按物体中心

### 方法

- [点阵剔除半透明](点阵剔除半透明.md)
- [随机透明度](随机透明度.md)
- [深度剥离](深度剥离.md) 一种 [OIT](OIT.md)
- [A-Buffer](A-Buffer.md) 一种 [OIT](OIT.md)
- [多层 alpha 混合](多层%20alpha%20混合.md)

==需要注意 [OIT](OIT.md) 方法==

## 混合运算符

> 前景叠在背景上

- **源 (Source, `src`)**: 你正要绘制的、新的图层或片元（fragment）。
- **目标 (Destination, `dst`)**: 帧缓冲（Framebuffer）中已经存在的、即将被覆盖的颜色。
- **Alpha (α)**: 不透明度，取值范围为 0.0（完全透明）到 1.0（完全不透明）。

### Over运算符

**将源（前景）图像叠加在目标（背景）图像之上**。
- **颜色**: `C_result = C_src * α_src + C_dst * (1 - α_src)`
- **Alpha**: `α_result = α_src + α_dst * (1 - α_src)`

### Under 运算符

这个操作正好相反。它的物理意义是：**将源图像放置在目标图像的下面**。
- **比喻**：就像你先把**半透明的彩色玻璃（目标）**放在桌上，然后小心地把一张**照片（源）**从**下面**塞进去。最终你看到的，是照片的颜色和透过照片看到的、变暗了的彩色玻璃颜色的结合。
- **颜色**: `C_result = C_src * (1 - α_dst) + C_dst * α_dst`
- **Alpha**: `α_result = α_dst + α_src * (1 - α_dst)`

[^1]: 开启深度测试和写入
[^2]: 关闭深度测试和写入 
