---
Type:
  - Page
  - MOC
aliases: 
tags: 
modifiedDate: 星期四, 六月 5日 2025, 8:46:34 晚上
---

# 图形学面经

## 光栅化/实时渲染

- 讲一下光栅化渲染管线。[渲染管线](光栅化渲染管线.md)
    - 为什么不透明物体和半透明物体的排序顺序不同？[物体绘制顺序](物体绘制顺序.md)
- 光栅化在计算[渲染方程](渲染方程.md)的哪个部分？
    - 右边的一整个积分?
- shadow在计算渲染方程的哪个部分？
    - Li​(x,ωi​), 渲染方程中 Li通常会包含一个**可见性函数 (Visibility Function)**，也称为**几何项 (Geometry Term)** 或 **遮挡项 (Occlusion Term)**，它是一个二元函数，用于判断光线从光源到达表面点是否被遮挡。
- 讲一下shadow map。[Shadow Map](Shadow%20Map.md)
    - 为什么不能对shadow map提前做filter？
        - Shadow Map 存储的是深度信息，而深度信息代表的是可见性（遮挡），它不是像颜色那样的可直接线性混合的物理属性。对深度进行模糊，会破坏其作为可见性判定的精确性，导致不正确的阴影结果。
- 讲一下你知道的软阴影shadow map实现。[软阴影](软阴影.md)
- [为什么VSM、MSM、ESM……等等方法可以对shadow map提前做filter？](202506032135.md)
- 讲一下 [PCF](PCF.md) 和 [PCSS](PCSS.md)。PCSS的问题有哪些？有什么加速方法？
- 半透明物体一般如何绘制？[半透明物体](半透明物体.md)
    - 有哪些OIT方法？
- 讲一下屏幕空间反射SSR [SSR](SSR.md)
    - 演示一下Hi-Z求交。[SSR \> 改进措施](SSR.md#改进措施)
    - SSR有什么问题？[SSR \> 优缺点](SSR.md#优缺点)
- 讲一下SSAO [SSAO](SSAO.md)
    - 为什么SSAO需要带有cos项？
        - 渲染方程中的 n⋅v
        - 在真实物理中，环境光是从周围半球方向均匀分布的，根据反射原理，照射强度正比于：$cosθ=n⋅v$,也就是说，越朝着法线方向来的光，贡献越大；越偏离法线（如沿切线方向）贡献越小。
          所以可以使用 Cos 项加权, 但我的实现没有使用
    - SSAO是在估计渲染方程的哪一项？
        - 显然是 Li. Li 可以细分为遮挡项和颜色项, 
    - SSAO的pattern问题如何解决？[蓝噪声](Blue%20Noise.md) [交叉双边滤波](交叉双边滤波.md)
    - 你还知道什么拓展的SSAO方法？[HBAO](HBAO.md) [GTAO](GTAO.md)
- 讲一下屏幕空间次表面散射SSSSS [屏幕空间次表面散射](屏幕空间次表面散射.md)
    - 为了实现好的效果，SSSSS的filter kernel极大，你有什么好方法吗？
        - 先降采样, 在较低分辨率的 RT 上进行, 分离式
        - 分离为两 PASS
- [现在要你实现一个毛玻璃效果，这个毛玻璃带有一张roughness纹理，不同地方的粗糙度不同。如何高效渲染这个效果](202506051126.md)

### 渲染管线

- 透视投影会导致深度不再均匀分布，为什么此时重心插值依然生效？[透视矫正插值](透视矫正插值.md) [重心坐标插值](重心坐标插值.md#^bdce48)

### PBR

- 如何理解PBR？[PBR](PBR.md)
- 如果在游戏中选择了PBR，后处理中有哪两个步骤是必不可少的？
    - [[Tone Mapping]]将 PBR 输出的高动态范围（HDR）颜色映射到屏幕可显示的低动态范围（LDR）。
    - [[Exposure]] PBR 是基于真实物理单位（如坎德拉），光照范围跨度非常大，需要类似相机那样动态调整“曝光”

### 后处理

- 说一下 bloom 效果的实现。[Bloom](Bloom.md)

### 抗锯齿

- 讲一下SSAA和MSAA，有什么区别? [SSAA](SSAA.md) [MSAA](MSAA.md)
- 为什么延迟管线里不好用 MSAA. [MSAA与延迟渲染管线兼容性差](MSAA与延迟渲染管线兼容性差.md)
- 4xMSAA 会让 GPU 的哪些部分有着 4 倍压力？[MSAA \> 开销](MSAA.md#开销)
- 简单说一下 [FXAA](FXAA.md) 和 [SMAA](SMAA.md)，它们有什么问题。
- 讲一下 [TAA](TAA.md)
    1. TAA中的ghosting有什么解决方法？
    2. TAA中的flickering有什么解决方法？
- 是否了解FSR2，简单说一下FSR2是怎么解决flickering的。
- 说一下你对DLSS1和DLSS2的理解，与TAAU的区别和联系。

### 深度缓冲

- 虚幻引擎中的深度缓冲进行过什么优化？
    - [层次Z缓冲](Hi-Z.md)
    - [Z-Prepass](Z-Prepass.md)
    - [Inversed-Z](Inversed-Z.md)

### GI

- 了解RSM吗？RSM是不是一种shadow map？如何降低RSM的采样消耗？是否了解一些最新的RSM应用？[RSM](RSM.md) [如何降低RSM的采样消耗？是否了解一些最新的RSM应用？](202506042009.md)
- 了解 [IBL](IBL.md) 和 [Light Probe](Light%20Probe.md) 吗？了解 [DDGI](DDGI.md) 吗？
    - 简单讲一下DDGI的过程和缺点。
    - 说一下DDGI的存储和表示结构。
    - DDGI如何处理light leaking？
        - 存储 Depth, 插值时根据 Depth 估计可见性, 计算插值权重
- 讲一下你对 [Lumen](Lumen.md) 的了解。 #TODO 

### 材质相关

- [BRDF](BRDF.md) 和 [BSDF](BSDF.md) 有什么不同？[BRDF 对比 BSDF](BRDF%20对比%20BSDF.md)
- 讲一下[微表面模型](微表面理论.md)，对D，G，F三项有什么约束？
- 什么是[各向异性材质](各向异性材质.md)？
- [Phong 模型](Phong%20Shading.md)在PBR管线中有什么问题？为什么需要将Phong模型的颜色值除**π**？
    - 问题:
        - 最大的问题是**能量不守恒**, 漫反射和镜面反射是独立调整的, 不相关
        - 非物理的, 比如不参照菲涅尔效应, 没有金属度和粗糙度等
    - 除π ,参见 [Lambertian BRDF](Lambertian%20BRDF.md)
        - 为了保证能量守恒

### 性能优化

- 讲一下你所知道的culling方法。[Culling](Culling.md)
- 为什么频繁 [Draw Call](Draw%20Call.md) 会降低性能？有没有了解过GPU driven？[GPU Driven Pipeline](GPU%20Driven%20Pipeline.md)
- [Compute Shader](Compute%20Shader.md) 跟 [Pixel Shader](Pixel%20Shader.md) 有什么不同？一般会用在哪里？

## 渲染理论/光线追踪/离线渲染

- 讲一下[渲染方程](渲染方程.md)
    - [一般的渲染器会如何处理渲染方程？](202506051528.md)
    - cos项的输入是什么与什么的夹角？
        - 入射光线和表面法线的夹角
- 讲一下介质渲染方程RTE。 #TODO/搁置 
    - 距离采样一般如何处理？
    - 如果是薄介质，此时应该如何做距离采样？
    - 讲一下介质中的方向采样和MIS。
    - （他提到了NeRF）讲一下NeRF对于RTE的简化以及近似渲染。
- 讲一下[离线渲染器](离线渲染器.md)的一般流程
    - 是否了解离线渲染的历史？在PT之前有哪些离线渲染方法？[WhittedRayTracing](WhittedRayTracing.md)
    - 如何处理光追的无限深度问题？
        - 限制最大深度
        - 轮盘赌 [RR](RR.md)
        - 光线能量的**最低阈值**
- 为什么 [RR](RR.md) 可以让估计结果无偏？一般在什么时候做RR？
    - 无偏性见 [RR \> 为什么能无偏](RR.md#为什么能无偏)
    - 一般什么时候做 RR?
        - 光线能量衰减到一定阈值以下时, 此时**光线已经不太重要**
        - 达到一定深度之后
        - 或者直接每次计算都行
- 讲一下 [NEE](NEE.md)，如何理解G项？
    - [渲染方程](渲染方程.md)中 $L_i$ 可以拆分出几何项 G, 代表阴影,G 项描述的是光线在空间中传播时，是否会遇到阻碍（被其他物体遮挡）。它是一个**二元函数**
    - Path Tracing 中, 如果一条射向光源的光线被遮挡, 则为 0. 当然, 所有表面都可以是一个光源, 个人理解可以认为是从某个表面直射到着色表面的光线路径被遮挡, 则为 0 
    - 实时渲染中, 通常通过 [Shadow Map](Shadow%20Map.md) 近似
- 如何理解[双向路径追踪](双向路径追踪.md)中的 [Camera Weight](202506051900.md)
- 是否了解 [Sampler](离线渲染采样器.md)?
- 关于sampling
    - [MIS](MIS.md)
    - 在MIS时，如果存在某一个分布的pdf无法覆盖被积函数，此时会导致有偏吗？如果想要MIS无偏，各个分布的pdf应该满足什么条件？
    - 如何在半球上高效率均匀采样？如何在球体内高效率均匀采样？
    - 给定BRDF，假设这个BRDF的表示简单，便于积分，怎么根据这个BRDF高效采样？
    - 假设这个BRDF表示复杂，难以积分，一般怎么做？
- [BSDF](BSDF.md) 的单位是什么？
- 关于[蒙特卡洛积分](蒙特卡洛积分.md)。
    - 讲一下蒙特卡洛的基本原理。
    - 最优pdf是什么？
        - 参见[重要性采样](重要性采样.md)公式推导, 当 p (x) 越接近 f (x) 的形状时, 积分误差就越小（方差越低）**可通过数学证明**
        - 换句话说, px 正比于 f (x)
        - 但通常无法使用
            - 要计算 p(x)，我们需要知道其归一化常数 ∫D​∣f(x′)∣dx′，而这正是我们想要计算的积分（或其绝对值），这陷入了循环。
            - 即使知道 p(x)，我们也很难从这样一个复杂的分布中高效地生成随机样本。
    - 如果pdf的非零范围超过了被积函数的非零范围，此时会导致有偏吗？如果反过来，pdf的非零范围小于被积函数的非零范围，此时呢？[pdf范围和被积函数范围](202506051941.md)
- 关于 [ReSTIR](ReSTIR.md)
- 关于[空间加速结构](空间加速结构.md)
    - 讲一下 [BVH](BVH.md) 的构造和求交流程，划分方法等。
    - BVH是一种二叉搜索树BST吗？换句话说，BVH可以通过继承一个抽象的二叉搜索树实现吗？
        - 尽管 BVH 在结构上是二叉树，但它与二叉搜索树的**核心语义和操作完全不同**。二叉搜索树是用于**数据排序和查找**的，而 BVH 是用于**空间划分和加速几何查询**的。
        - 即构造和搜索方式完全不同
