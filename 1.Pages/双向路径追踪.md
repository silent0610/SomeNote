---
Type: 
aliases:
  - Bidirectional Path Tracing
  - BDPT
tags: 
modifiedDate: 星期四, 六月 5日 2025, 6:58:42 晚上
---

# 双向路径追踪

## 定义

**双向路径追踪 (BDPT)** 是一种**更先进、更鲁棒**的蒙特卡洛光线追踪算法，它通过**同时从摄像机和光源生成光线路径**，然后将它们在场景中的某个点**连接起来**，从而更有效地发现和采样那些传统路径追踪效率低下的光路。

## 核心

- **生成两条子路径**：
    - **摄像机子路径 (Eye Path / Camera Path)**：从摄像机发出光线，在场景中弹跳，形成一条由摄像机到某个点的路径。
    - **光源子路径 (Light Path)**：从光源（包括直接光源和作为光源的其他表面）发出光线，在场景中弹跳，形成一条由光源到某个点的路径。
- **连接子路径 (Path Connection)**：
    - BDPT 的关键步骤是在生成这两条子路径后，尝试在**每条子路径的任意顶点之间**进行直接的**连接 (Connection)**。
    - 对于每对尝试连接的顶点，会发射一条**可见性光线 (Visibility Ray / Shadow Ray)**，判断它们之间是否有物体遮挡。
    - 如果连接成功且没有遮挡，这条由“摄像机子路径 + 连接线 + 光源子路径”组成的完整光线路径就贡献了光照。

### [[MIS]]

- 由于一条光线路径可能通过**多种不同的策略**生成（例如，完全由摄像机路径生成、完全由光源路径生成、或由不同长度的子路径连接生成），我们不能简单地将它们的贡献相加。
- BDPT 结合了 MIS 技术，通过计算每种策略生成特定路径的**概率密度函数 (PDF)**，然后利用**权重启发式 (Weighting Heuristic)**（如平衡启发式）来**组合这些不同策略的贡献**。这确保了最终结果的**无偏性 (Unbiased)** 和**方差最小化 (Variance Reduction)**。

## 优势

- 处理小光源、被遮挡光源、或远处光源
- 处理"难找的光路"
- 降低噪声, 提高收敛速度
