---
Type:
  - Page
aliases: 
tags: 
Status:
  - None
modifiedDate: 2025/06/20, 14:33:18
---

# 几何着色器

## 简单描述

将各种类型的图元作为输入，然后生成新的顶点 (图元), 或生成副本。

## 得失

### 优点:

- 几何放大
    - 可以接收一个简单的输入图元，然后“放大”成更复杂的几何体输出。
- 动态几何生成
    - 无需CPU准备大量数据，可以直接在GPU上根据某些算法动态创造全新的几何形状。
- 减少 drawcall
    - 比如绘制 Cubemap 时, 可以在**一次绘制调用（Single Draw Call）**中，将同一个物体渲染到纹理数组或立方体贴图的多个不同图层上。

### 缺点

- 性能通常不佳
    - 它打破了GPU高度并行的、流水线式的处理模式。由于其输出的顶点数量是不确定的，GPU难以进行有效的负载均衡和优化，常常导致渲染效率显著下降。
- 增加了渲染管线的复杂度
- 存在更优的替代方案
    - 如 compute shader, 性能和灵活性都更高

## 应用

- 生成粒子。

> 想象我们正在模拟一个烟花爆炸的过程，每颗火花都可以表示为一个点，即一个简单的顶点。几何着色器可以将每个顶点都转换成一个正方形（由两个三角形组成），这个正方形会始终面朝观察者，并且会占据若干个像素，这为我们提供了一个更加令人信服的图元来进行后续的着色。
