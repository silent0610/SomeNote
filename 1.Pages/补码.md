---
Type:
  - Page
aliases: 
tags: 
modifiedDate: 2025/06/18, 21:31:42
---
对于**有符号整数 (signed integers)**，C++ 在实践中**几乎总是**使用补码（Two's Complement）来表示，并且**从C++20标准开始，这已经被正式确定下来**。

# 补码

## 特点

- 补码
    - 正数的最高位为 0,负数最高位为 1;
    - 正数补码与原码相同
    - 求负数的补码：负数原码最高位不变，其它位取反，最低位+1
        - 或者由对应的正数的原码, 先按位取反(所有位), 再末位+1
    - 负数的补码再求补，可得其原码
- 负数的原码 即将对应正数的原码最高位变为 1

## 优势

- **统一加减法**: 硬件上可以使用相同的电路来处理加法和减法（减去一个正数等于加上它的负数的补码, 加上一个负数,等于加上一个负数的补码），从而简化CPU的设计。
- **唯一的零**: 无论是 `+0` 还是 `-0`，在补码中都只有一种表示方式（全0）。而原码和反码表示`0`时都有两种方式，会带来歧义和复杂性。

## 例子

- 求正数的负数的补码
    - 按位取反(所有位)
    - 末位+1
- 求-3的补码（二进制表示）
    - -3 的原码 1000 0011
        - 3 的原码为 0000 0011, 最高位取反即可
    - 最高位不变, 其余位取反: 1111 1100
    - 再+1.  1111 1101
- 已知补码，求代表的数值：1111 1000
    - 根据最高位可知，这是一个负数
    - 负数的补码再求补，可得其原码
    - 最高位不变, 其余位取反: 1000 0111
    - +1 1000 1000
    - 最高位为 1,所以为-8;
