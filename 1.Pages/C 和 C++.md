---
Type:
aliases: 
tags: 
modifiedDate: 2025/06/13, 17:17:02
---

# C 和 C++

## 区别

- C是面向过程的语言, 而 C++是 (**可以**)**面向对象**的语言
- C++是 C 的超集, 兼容 C, 但引入了 C 没有的很多特性
    - 通过引入面向对象、泛型编程和庞大的标准库，已经发展成了一门在抽象层次和工程能力上远超 C 语言的现代化、多功能语言。

### 1. 编程范式

> 将 C++ 视为一个语言联邦
> 高效的 C++编程规则因具体使用的 C++部分而异

- **C 语言**：主要是**面向过程 (Procedural)** 的。编程时，你思考的是“先做什么，后做什么”的步骤和函数调用。它非常适合开发操作系统、嵌入式系统等需要直接控制硬件和内存的底层应用。
- **C++ 语言**：是**多范式 (Multi-paradigm)** 语言。它在 C 的基础上，最核心的增强是：
    - **面向对象 (Object-Oriented, OOP)**：这是 C++ 最大的特色。通过**类 (class)**、**继承 (inheritance)**、**多态 (polymorphism)** 和**封装 (encapsulation)**，可以构建出结构清晰、易于维护和扩展的大型复杂系统。
    - **泛型编程 (Generic Programming)**：通过**模板 (templates)**，可以编写不依赖于具体数据类型的通用算法和数据结构，例如 C++ 标准库中的 `std::vector`, `std::sort`。
    - **函数式编程**：C++11 及以后，通过 Lambda 表达式等特性，也提供了对函数式编程风格的支持。

### 2. 内存管理

- **C 语言**：使用 `malloc()` 和 `free()` 函数来手动分配和释放内存。这种方式非常底层，但容易出错，比如忘记 `free` 导致内存泄漏，或者重复 `free` 导致程序崩溃。
    
- **C++ 语言**：
    
    - 提供了 `new` 和 `delete` **操作符**，它们不仅分配/释放内存，还会自动调用对象的**构造函数**和**析构函数**，确保对象的正确初始化和清理。
    - 更重要的是，现代 C++ 推崇 **RAII (资源获取即初始化)** 的思想，并提供了**智能指针**（如 `std::unique_ptr`, `std::shared_ptr`）。它们可以自动管理内存生命周期，极大地减少了内存泄漏的风险，让代码更安全。

### 3. 标准库

- **C 语言**：拥有一个相对小巧但功能强大的标准库，例如用于输入输出的 `<stdio.h>`，用于字符串处理的 `<string.h>` 等。
    
- **C++ 语言**：拥有一个庞大得多的标准库，其中最著名的就是 **STL (Standard Template Library, 标准模板库)**。STL 提供了：
    
    - **容器 (Containers)**：如 `std::vector` (动态数组), `std::string` (字符串), `std::map` (键值对), `std::list` (链表) 等。
    - **算法 (Algorithms)**：如 `std::sort` (排序), `std::find` (查找), `std::for_each` (遍历) 等。
    - **迭代器 (Iterators)**：用于以统一的方式遍历所有容器。
    - 以及线程库、正则表达式、文件系统（C++17）等无数高级功能。

### 4. 类型安全与错误处理

- **C 语言**：类型检查相对宽松，例如 `void*` 指针可以自由地与其他类型指针转换，这虽然灵活但也容易出错。错误处理通常依赖于函数**返回值**（如返回-1或 `NULL`）。
- **C++ 语言**：
    - 拥有**更严格的类型检查**，减少了类型相关的错误。
    - [[C++Cast]] 类型转换
    - 引入了**引用 (References)**，提供了比指针更安全的方式来间接访问对象。
    - 引入了**命名空间 (Namespaces)**，有效避免了大型项目中的命名冲突。
    - 提供了强大的**异常处理机制 (try, catch, throw)**，使得错误处理逻辑与正常业务逻辑可以分离开来，代码更清晰、更健壮。
