---
Type:
  - Page
aliases: 
tags: 
modifiedDate: 星期六, 五月 31日 2025, 1:30:24 下午
---

## 所有权管理

智能指针（特别是 `unique_ptr` 和 `shared_ptr`）的核心是**所有权管理**。
- 在许多情况下，你只需要一个指针来**观察**或**引用**一个已经由其他机制（包括智能指针）管理其生命周期的对象，而不需要承担该对象的内存管理责任。

## 性能开销

智能指针是有开销的, 可能不适用于对性能, 内存极致要求的情况
- 控制块的内存占用, 和销毁
- 原子操作比非原子操作慢

## 无法替代所有场景

**C 语言 API 交互**：许多 C 语言库函数接受或返回裸指针。你可能需要将智能指针管理的资源转换为裸指针传递给 C 函数，或者从 C 函数返回的裸指针创建智能指针。

## 建议

- **优先使用智能指针**
- 谨慎使用裸指针
    - 在对性能极度敏感的场景
