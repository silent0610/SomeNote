---
Type:
  - Page
aliases: 
tags: 
modifiedDate: 2025/06/17, 14:59:42
---

# C++指针

## 定义

指针本身是一个对象，允许对指针进行赋值和拷贝；指针中存储的是某个对象的地址，指针无需在定义的时候进行初始化。

- 指针本身在栈上有内存, 
- 且其指向一块内存
- **delete 指针实际上是释放其指向的堆上的内存, 而不是其本身在栈上的内存**

推荐使用 [C++智能指针](C++智能指针.md)

## 注意

### 指针：两步访问

一个指针本身是一个变量，它占有自己的内存空间，里面存储的是**另一个变量的内存地址**。

当你通过指针访问数据时，CPU在概念上需要做两件事：
1. **第一次内存访问**：读取指针变量本身，获取它存储的那个**目标地址**。
2. **第二次内存访问**：根据第一步获取到的目标地址，再去访问真正的**目标数据**。
而 [[C++引用]]是一次访问
- 指针和引用(别名)本质上是不同的, 但编译器不优化的情况下通常将其实现为常量指针
- 如果开启了优化, 引用就真的是别名,相当于直接访问原对象,此时引用不占内存
- 而使用指针需要解引用, 多一次寻址(如果优化了也只用访问一次)
- 但是对于类中存储引用的情况, 编译器必须有一种物理上的方式来存储这个“别名”关系。编译器最直接、最常见的实现方式就是使用一个指针来存储这个引用。这是优化不掉的.
