---
Type:
  - Page
aliases:
  - depth peeling
tags: 
modifiedDate: 星期二, 六月 3日 2025, 10:29:24 晚上
---

是一种 [OIT](OIT.md)

## 原理

深度剥离的核心思路是使用两个z-buffer和多个pass:
- 通过多遍渲染来“剥离”场景中的透明层。每一遍渲染都提取一个最靠前的透明层。

## 原理

- **Pass 1**：渲染所有不透明物体，并得到它们的深度图。
- **Pass 2**：渲染所有透明物体，但只保留最靠近摄像机的片段（使用一个普通的深度缓冲）。
- **Pass 3 (and subsequent passes)**：使用一个额外的深度缓冲（用于存储上一遍渲染的深度）和当前的深度缓冲。只渲染那些**比上一遍渲染的片段更远，但比当前已渲染的片段更近**的片段。
- 每次剥离都得到一个新的透明层。最终，将所有剥离的层从后到前进行混合。

## 优缺点

- **优点**：可以生成非常精确的透明度，处理穿插几何体。
- **缺点**：
    - **性能开销巨大**：需要多遍渲染（N 次 Draw Call），N 通常很高。对于复杂场景，帧率无法接受。
    - 内存占用也相对较高（需要多个深度缓冲）。
