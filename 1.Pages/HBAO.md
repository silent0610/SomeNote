---
Type:
aliases: 
tags: 
modifiedDate: 星期四, 六月 5日 2025, 2:47:00 下午
---
从表面点法线方向向外看，地平线[^1]被周围几何体抬升了多少。地平线抬升得越高，说明被遮挡得越多。

>  在英伟达的实现中, 直接使用 viewSpace 的 Z 和 (0,0,1) 之间的夹角计算高度角
>  英伟达还修改了贡献的计算, 每个方向的每个采样点都有自己的贡献
>  angle Bias
>  平方衰减
#渲染器实现细节 

**工作原理简述**：
1. 对于屏幕上的每个像素，获取其世界空间位置和法线。
2. 沿着预定义的方向（通常是沿着一个螺旋或圆环状的模式）进行少量的 或深度采样。
3. 在每一步，根据采样点与中心点的深度差异以及它们之间的方向，计算该点**对地平线抬升的贡献**。
4. 累积这些贡献，最终估算出该像素点周围的**可见天空或开放区域的比例**。这个比例越小，AO 值越大（越暗）。

[^1]: 将 Zbuffer 视为高度场
