---
Type:
  - Page
aliases: 
tags: 
modifiedDate: 2025/06/19, 14:46:04
---

# Early-Z

## 定义

允许 GPU 在**像素着色器 (Pixel Shader)** 执行之前，**提前进行深度测试。**

## 目标

减少 overDraw

## 得失

### 优点

- 减少像素着色器调用, 减少 overDraw, 提高性能

### 缺点

需要保证深度是正确的, 所以
- 如果在像素着色器中存在对片元深度的修改, 或者 discard(alpha test),又或者其它的模板测试
- 那么通常无法使用 early-z
- vulkan 中 early z 是默认开启的

## 工作原理

- 将片段发送到像素着色器之前，GPU 会先检查当前片段的深度值与深度缓冲区中已有的深度值。
- 如果当前片段**明显比深度缓冲区中已有的深度值更远**（即它会被前面已渲染的物体遮挡），那么这个片段就会被**直接丢弃**，不需要执行像素着色器。
