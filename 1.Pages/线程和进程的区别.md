---
Type:
  - Page
aliases: 
tags: 
modifiedDate: 2025/06/18, 16:44:04
---

# 线程和进程的区别

- **[进程](进程.md)是资源分配的最小单位，[线程](线程.md)是 CPU 调度的最小单位。**
- **进程像独立的小房子，有自己的地址和所有家当；线程则像是房子里的不同房间，共享房子的大部分设施，但有自己的小床（栈）。**
- 创建和切换线程比创建和切换进程更快、开销更小。
- 线程间共享数据更方便，但也更容易引发同步问题。
- 一个进程至少有一个线程，一个进程可以运行多个线程

| 特性             | 进程 (Process)                                        | 线程 (Thread)                                                     |
| -------------- | --------------------------------------------------- | --------------------------------------------------------------- |
| 定义             | 程序的一次执行实例。是操作系统进行资源分配和调度的基本单位。                      | 进程内的一个执行单元/路径。是 CPU 调度的基本单位（在支持线程的操作系统中）。一个进程可以包含多个线程。          |
| 资源拥有           | 拥有独立的地址空间和系统资源（如内存、文件句柄、设备等）。进程间资源相互隔离。             | 共享所在进程的地址空间和大部分资源（如代码段、数据段、堆内存、打开的文件等）。但每个线程拥有自己的栈、寄存器集合和程序计数器。 |
| 并发性            | 进程间可以并发执行。                                          | 同一进程内的多个线程可以并发执行。                                               |
| 创建与销毁开销        | 较高。创建进程需要分配新的地址空间和系统资源。                             | 较低。创建线程通常只是分配一些线程私有的数据结构（如栈）。                                   |
| 上下文切换开销        | 较高。需要切换整个进程的地址空间、页表等。                               | 较低。因为共享地址空间，切换时主要切换线程的私有数据（寄存器、栈指针等）。                           |
| 通信             | 进程间通信 (IPC) 较为复杂，需要通过操作系统提供的机制，如管道、消息队列、共享内存段、套接字等。 | 线程间通信更直接、方便，因为它们共享内存。可以直接读写共享变量，但需要注意同步问题。                      |
| 健壮性/隔离性        | 一个进程崩溃通常不会影响其他进程（除非有明确的依赖关系）。                       | 一个线程崩溃（如未捕获的异常、非法内存访问）通常会导致整个进程崩溃，因为它们共享地址空间。                   |
| “重量级” vs “轻量级” | 通常被称为“重量级进程”。                                       | 通常被称为“轻量级进程”。                                                   |
